{% load staticfiles %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta charset="utf-8">
    <title>候车厅</title>
    <!-- 引入 echarts.js -->
    <script type="text/javascript" src="/static/js/jquery-1.12.4.min.js"></script>
    <script src="/static/js/echarts.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/data.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />
    <!--<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>-->
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge" />-->

</head>
<body style="background-attachment:fixed;background-image:url({% static 'img/login.png' %});
background-repeat:no-repeat;background-size:100% 150%;opacity:0.8;">
<!--<body >-->
<!--<div style="background-color:#21557c;">-->
<div style="background-attachment:fixed;background-image:url({% static 'img/login.png' %});
background-repeat:no-repeat;background-size:100% 150%;opacity:0.8;">
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <!--<div id="main" class="l123" style="width: 800px;height:400px;"></div>-->
    <div class="container" style="padding-left:150px;" >
       <div class="row">
           <div id="hct1" class="col-md-6" style="width: 300px;height:300px;"></div>
           <div id="hct2" class="col-md-6" style="width: 300px;height:300px;"></div>
       </div>
       <div class="row">
           <div id="hct3" class="col-md-6" style="width: 300px;height:300px;"></div>
           <div id="hct4" class="col-md-6" style="width: 300px;height:300px;"></div>
       </div>
    </div>
    </div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart1 = echarts.init(document.getElementById('hct1'),'light');
        // 显示标题，图例和空的坐标轴
        option1 = {
            <!--backgroundColor:'#21557c',-->
            title: {
                text: '候车一厅人数:',
                subtext:'',
                textStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                subtextStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                },
            tooltip : {
                formatter: "{a} <br/>{b} : {c}%"
                },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                    }
                },
            grid:{x:28,y:50,x2:30,y2:50},
            series: [
                {
                    name: '候车一厅压力值',
                    type: 'gauge',
                    detail: {formatter:'{value}%'},
                    data: [{value: 0,textStyle:{color:'#F8F8FF'},name: ''}]
                }
                ]
            };
        myChart1.setOption(option1, true);
        setInterval(function () {
            $.getJSON("/taiyuan/hall_fresh/", function (ret) {
                option1.series[0].data[0].value = ret.hct1,
                option1.title.subtext = ret.hct1+'  /人',
                myChart1.setOption(option1, true);
                })
            },2000);

        // hct2
        var myChart2 = echarts.init(document.getElementById('hct2'),'light');
        // 显示标题，图例和空的坐标轴
        option2 = {
            title: {
                text: '候车二厅人数:',
                subtext:'',
                textStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                subtextStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                },
            tooltip : {
                formatter: "{a} <br/>{b} : {c}%"
                },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                    }
                },
            series: [
                {
                    name: '候车二厅压力值',
                    type: 'gauge',
                    detail: {formatter:'{value}%'},
                    data: [{value: 0, name: ''}]
                }
                ]
            };
        setInterval(function () {
            $.getJSON("/taiyuan/hall_fresh/", function (ret) {
                <!--option2.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;-->
                option2.series[0].data[0].value = ret.hct2,
                option2.title.subtext = ret.hct2+'  /人',
                myChart2.setOption(option2, true);
                })
            },2000);

        // hct3
        var myChart3 = echarts.init(document.getElementById('hct3'),'light');
        // 显示标题，图例和空的坐标轴
        option3 = {
            title: {
                text: '候车三厅人数:',
                subtext:'',
                textStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                subtextStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                },
            tooltip : {
                formatter: "{a} <br/>{b} : {c}%"
                },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                    }
                },
            series: [
                {
                    name: '候车三厅压力值',
                    type: 'gauge',
                    detail: {formatter:'{value}%'},
                    data: [{value: 0, name: ''}]
                }
                ]
            };
        setInterval(function () {
            $.getJSON("/taiyuan/hall_fresh", function (ret) {
                <!--option3.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;-->
                option3.series[0].data[0].value = ret.hct3,
                option3.title.subtext = ret.hct3+'  /人',
                myChart3.setOption(option3, true);
                })
            },2000);

        // hct4
        var myChart4 = echarts.init(document.getElementById('hct4'),'light');
        // 显示标题，图例和空的坐标轴
        option4 = {
            title: {
                text: '候车四厅人数:',
                subtext:'',
                textStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                subtextStyle:{
                    fontSize:20,
                    color:'#F8F8FF',
                    },
                },
            tooltip : {
                formatter: "{a} <br/>{b} : {c}%"
            },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                    }
                },
            series: [
                {
                    name: '候车四厅压力值',
                    type: 'gauge',
                    detail: {formatter:'{value}%'},
                    data: [{value: 0, name: ''}]
                }
                ]
            };
        setInterval(function () {
            $.getJSON("/taiyuan/hall_fresh", function (ret) {
                <!--option4.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;-->
                option4.series[0].data[0].value = ret.hct4,
                option4.title.subtext = ret.hct4+'  /人',
                myChart4.setOption(option4, true);
            })
        },2000);
    </script>

</body>
</html>